Tu es un assistant expert en d√©veloppement web (frontend/backend), SAAS, Supabase, Make.com, et Netlify. Tu reprends exactement le m√™me projet que celui d√©crit ci-dessous. Je veux que tu continues √† m'aider comme si tu √©tais dans la continuit√© directe du chat pr√©c√©dent.

Voici TOUT ce que tu dois savoir sur le contexte, les objectifs, l'√©tat du code, les bugs rencontr√©s et les corrections appliqu√©es jusqu'√† pr√©sent. Ce texte contient l'historique complet pour te synchroniser int√©gralement.

-----------------
üß† CONTEXTE GLOBAL :
-----------------
- Je m'appelle Adrien.
- Je vis en Cor√©e avec un visa Working Holiday.
- Je d√©veloppe un SAAS appel√© Commanda, d√©ploy√© sur Netlify.
- Le but du site : permettre √† un utilisateur de se connecter avec Google (OAuth), d'√™tre redirig√© vers un dashboard, et d'afficher les infos depuis Supabase.
- Le backend est 100% Supabase (auth + base de donn√©es).
- Le frontend est en HTML/CSS/JS vanilla.
- Le SAAS utilise : Signup avec Google, stockage de l'utilisateur dans `users_web`, dashboard dynamique.

-------------------------
üì¶ STRUCTURE DU PROJET :
-------------------------
- `signup.html` : bouton "Connexion avec Google", redirige vers dashboard.
- `dashboard.html` : affiche email, pseudo, Plan, used_free_trial, + bouton logout.
- `script.js` : unique fichier JS pour tout g√©rer (auth, insert, dashboard).
- Le site est h√©berg√© sur Netlify √† l‚Äôadresse : https://cozy-maamoul-92d86f.netlify.app
- Supabase g√®re : auth (Google), table `users_web`, policies RLS activ√©es.

-------------------------
üìÅ TABLE SUPABASE :
-------------------------
Nom : `users_web`
Colonnes :
- id (uuid) ‚Üí li√© √† auth.user.id
- email (text)
- pseudo (text)
- Plan (text)
- used_free_trial (bool)
RLS activ√©es, mais policies simples : `SELECT` / `INSERT` autoris√© si `id = auth.uid()`.

-------------------------
üõ†Ô∏è COMPORTEMENT ATTENDU :
-------------------------
1. Sur signup.html, on clique sur "Connexion avec Google".
2. L‚Äôutilisateur est redirig√© vers /dashboard.html avec un token.
3. Le script √©change ce token contre une session persistante (via `exchangeCodeForSession()`).
4. Si l‚Äôutilisateur n‚Äôexiste pas dans `users_web`, il est automatiquement ajout√© avec les valeurs par d√©faut.
5. Sur le dashboard, les infos s'affichent dynamiquement :
   - email
   - pseudo
   - plan
   - essai gratuit utilis√©

-------------------------
‚ùå PROBL√àMES RENCONTR√âS :
-------------------------
- `getSession()` retournait `null` √† cause de token OAuth expir√© (ou non √©chang√©).
- Mauvais usage de `supabase.auth.getUser()` au lieu de `getSession()`.
- Tentative d‚Äô`import` ES6 (`import { createClient } ...`) sans `type="module"` : causait `Cannot use import statement outside a module`.
- Mauvaise API key utilis√©e (cl√© de service admin au lieu de la `anon` public key ‚Üí causait `Invalid API key`).
- Mauvaise gestion de l‚Äôinsertion dans `users_web` (ajoutait des lignes vides avec `null`).
- L‚Äôutilisateur n'√©tait pas ins√©r√© dans Supabase Auth si supprim√© depuis `auth.users`.
- Le redirect OAuth n‚Äôeffa√ßait pas le token dans l‚ÄôURL ‚Üí causait des erreurs `401 Unauthorized`.
- Certains scripts JS √©taient trop rapides ‚Üí le token OAuth expirait (>120s) avant usage.

-------------------------
‚úÖ CORRECTIONS APPLIQU√âES :
-------------------------
- Passage complet √† `exchangeCodeForSession()` d√®s d√©tection d‚Äôun `access_token` dans l‚ÄôURL.
- Nettoyage de l‚ÄôURL apr√®s redirection OAuth avec `window.history.replaceState(...)`.
- Remplacement complet des `import` par `<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>`.
- Ajout d‚Äôun fallback de session (`getSession()` seulement apr√®s `exchangeCodeForSession()`).
- D√©tection propre de `user.id`, `user.email`, `user_metadata.full_name`, etc.
- Validation automatique dans Supabase des URLs autoris√©es : https://cozy-maamoul-92d86f.netlify.app
- V√©rification que chaque insertion dans `users_web` est conditionn√©e √† l‚Äôexistence r√©elle de `user.id`.

-------------------------
üìú VERSION ACTUELLE DES FICHIERS :
-------------------------


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}

# CONTINUATION


===== signup.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Inscris-toi avec Google</h1>
  <button id="google-login">Connexion avec Google</button>
</body>
</html>

===== dashboard.html =====
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script type="module" src="./script.js"></script>
</head>
<body style="background:black; color:white; text-align:center;">
  <h1>Bienvenue sur ton Dashboard</h1>
  <button id="logout">Se d√©connecter</button>

  <h2>Informations du compte :</h2>
  <ul>
    <li><strong>Email :</strong> <span id="user-email">Chargement...</span></li>
    <li><strong>Pseudo :</strong> <span id="user-pseudo">Chargement...</span></li>
    <li><strong>Plan :</strong> <span id="user-plan">Chargement...</span></li>
    <li><strong>Essai gratuit utilis√© :</strong> <span id="user-trial">Chargement...</span></li>
  </ul>
</body>
</html>

===== script.js =====
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

const supabase = createClient(
  'https://jgdsbsgajoidkqiwndnp.supabase.co',
  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnZHNic2dham9pZGtxaXduZG5wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTUwOTA4MTMsImV4cCI6MjAyMDY2NjgxM30.y25cXK8kuOlLDnbcrAnwXQ2UhhOpV3NuIXkNrrRZ5g'
);

// LOGIN GOOGLE
const googleLoginBtn = document.getElementById("google-login");
if (googleLoginBtn) {
  googleLoginBtn.addEventListener("click", async () => {
    const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
    if (error) alert("Erreur OAuth : " + error.message);
  });
}

// DASHBOARD LOGIC
const emailEl = document.getElementById("user-email");
const pseudoEl = document.getElementById("user-pseudo");
const planEl = document.getElementById("user-plan");
const trialEl = document.getElementById("user-trial");

if (emailEl && pseudoEl && planEl && trialEl) {
  // Utilise getUser √† la place de getSession
  const { data: { user }, error } = await supabase.auth.getUser();

  if (!user || error) {
    console.warn("Utilisateur non authentifi√© ou erreur Supabase :", error);
    return;
  }

  emailEl.textContent = user.email;

  const { data, error: dbError } = await supabase
    .from("users_web")
    .select("*")
    .eq("id", user.id)
    .maybeSingle();

  if (!data) {
    // Auto-insertion si l'utilisateur n'existe pas encore
    await supabase.from("users_web").insert({
      id: user.id,
      email: user.email,
      pseudo: user.user_metadata?.full_name || "",
      Plan: "Free",
      used_free_trial: false
    });

    pseudoEl.textContent = user.user_metadata?.full_name || "-";
    planEl.textContent = "Free";
    trialEl.textContent = "Non";
  } else {
    pseudoEl.textContent = data.pseudo || "-";
    planEl.textContent = data.Plan || "-";
    trialEl.textContent = data.used_free_trial ? "Oui" : "Non";
  }

  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", async () => {
      await supabase.auth.signOut();
      window.location.href = "/signup.html";
    });
  }
}
